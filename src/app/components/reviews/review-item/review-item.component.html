<mat-card class="review-card">
  <div class="header" fxLayout="row" align="left">
    <img *ngIf="!inUserComponent" src={{review.user.avatar}} class="avatar" />
    <img *ngIf="inUserComponent" src={{review.book.cover}} class="avatar" /> &nbsp;
    <div fxLayout="column" class="full-width sp">
      <p class="cursor-text" *ngIf="!inUserComponent" [routerLink]="['/user/' +review.user.id]">{{review.user.username}}</p>
      <p class="cursor-text" *ngIf="inUserComponent" [routerLink]="['/books/' +review.book.id]">{{review.book.name}}</p>
      <p class="subtext-gray"><b>{{review.upvotes}}</b> Users found this review helpful</p>
      <p *ngIf="!review.upvoted" class="subtext cursor-text" (click)="upvote()"><i class="fa fa-fw fa-arrow-circle-up" aria-hidden="true"></i>Helpful</p>
      <p *ngIf="review.upvoted" class="subtext cursor-text" (click)="downvote()"><i class="fa fa-fw fa-arrow-circle-down"
          aria-hidden="true"></i>Undo</p>
    </div>
    <div fxFlex></div>
    <div class="d" align="right">
      <p>{{review.created_at | date: 'mediumDate'}}</p>
      <p>Rated: {{review.score}} <i class="fa fa-star" aria-hidden="true"></i></p>
    </div>

  </div>

  <div class="content">
    <div align="left">
      <span *ngIf="!showMore" [innerHTML]="textSplit"></span>
      <span *ngIf="showMore" [innerHTML]="review.text"></span>
      <span *ngIf="!showMore" class="cursor-text" (click)="changeText(true)"> show more...</span>
      <span *ngIf="showMore" class="cursor-text" (click)="changeText(false)"> show less...</span>
    </div>
  </div>

</mat-card>